# Restaurant App

## Описание проекта

Restaurant App — это система управления заказами для ресторанов, предоставляющая удобные методы для работы с базой данных. Основная цель проекта — автоматизировать процесс создания, обновления, удаления заказов и работы со столами.

### Основные функции:
- Создание заказов и добавление блюд.
- Обновление статуса заказа, информации о столах и заказанных блюдах.
- Получение списка всех заказов с подробной информацией.
- Удаление заказов и связанных данных.
- Управление таблицами и получение информации о статусе столов.
- Подсчет свободных столов.

## Установка
1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/romaiy/restaurant-app.git
   ```
2. Перейдите в директорию проекта:
   ```bash
   cd restaurant-app
   ```
3. Установите зависимости.

## Использование

### Основные методы

#### Работа с заказами:
- **`create_order(dish_ids, employee_id, table_id)`**
  Создает новый заказ, добавляет блюда в таблицу `order_items`.

- **`update(order_id, **kwargs)`**
  Обновляет статус заказа, номер стола или список блюд.

- **`delete_order(order_id)`**
  Удаляет заказ и связанные с ним записи в таблице `order_items`.

#### Работа с таблицами:
- **`get_list()`**
  Возвращает список всех столов с подробной информацией:
  - Номер стола.
  - Текущий статус заказа.
  - Названия заказанных блюд.
  - Номер заказа и имя сотрудника.

- **`get_free_tables()`**
  Возвращает список номеров столов, на которых нет заказов.

#### Работа с базой данных:
- **`execute_query(query, params=None, fetchone=False, fetchall=False)`**
  Выполняет SQL-запрос и возвращает результат.

- **`execute_query_many(query, values)`**
  Выполняет запрос с несколькими значениями (массовая вставка).

## Пример использования
```python
from orders_management import Order, Table

# Инициализация
order_manager = Order()
table_manager = Table()

# Создание заказа
order_id = order_manager.create_order([1, 2, 3], employee_id=1, table_id=1)

# Обновление заказа
order_manager.update(order_id, status='COMPLETE', table_id=2, dish_ids=[4, 5])

# Получение списка всех столов
tables = table_manager.get_list()

# Получение свободных столов
free_tables = table_manager.get_free_tables()
print(free_tables)  # [2, 4]
```

## Структура базы данных
- **`orders`**: содержит информацию о заказах (ID, ID стола, статус, дата создания).
- **`order_items`**: связи между заказами и блюдами.
- **`dishes`**: справочник блюд.
- **`tables`**: информация о столах.
- **`employees`**: информация о сотрудниках.



